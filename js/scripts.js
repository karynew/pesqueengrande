jQuery.fn.lightweightScrollTo=function(t){t=jQuery.extend({offset:0,duration:1e3,updateUrl:!0},t),this.on("click",function(e){console.log("click");var r=jQuery(this).attr("href"),a=jQuery(r);a.length&&(e.preventDefault(),jQuery("html, body").animate({scrollTop:a.offset().top-t.offset},t.duration,function(){t.updateUrl&&(window.location.hash=r)}))})},jQuery(document).ready(function(t){function e(){var e=Math.ceil(2*n/a),r=s>i?1.1/Math.sin(Math.PI/2-s*Math.PI/180):1.1/Math.sin(Math.PI/2-i*Math.PI/180),o=Math.ceil(2*n*r),l=Math.ceil(o/a),d=n-o/2,c=(e-l)/2;t(".cd-background-wrapper").css({height:e}),t(".cd-floating-background").addClass("is-absolute").css({left:d,top:c,width:o})}function r(e,r){var a=(-e.pageX+n)/n*s,l=e.pageY-r,d=(l-o)/o*i;a>s&&(a=s),a<-s&&(a=-s),d>i&&(d=i),d<-i&&(d=-i),t(".cd-floating-background").css({"-moz-transform":"rotateX("+d+"deg) rotateY("+a+"deg) translateZ(0)","-webkit-transform":"rotateX("+d+"deg) rotateY("+a+"deg) translateZ(0)","-ms-transform":"rotateX("+d+"deg) rotateY("+a+"deg) translateZ(0)","-o-transform":"rotateX("+d+"deg) rotateY("+a+"deg) translateZ(0)",transform:"rotateX("+d+"deg) rotateY("+a+"deg) translateZ(0)"})}var a,o=.5*t(window).height(),n=.5*t(window).width(),s=5,i=3;t(".cd-floating-background").find("img").eq(0).load(function(){a=t(this).width()/t(this).height(),t("html").hasClass("preserve-3d")&&e()}).each(function(){this.complete&&t(this).load()}),t(".cd-background-wrapper").each(function(){t(this).on("mousemove",function(e){var a=t(this).offset().top;t("html").hasClass("preserve-3d")&&window.requestAnimationFrame(function(){r(e,a)})})}),t(window).on("resize",function(){t("html").hasClass("preserve-3d")?window.requestAnimationFrame(function(){o=.5*t(window).height(),n=.5*t(window).width(),e()}):(t(".cd-background-wrapper").attr("style",""),t(".cd-floating-background").attr("style","").removeClass("is-absolute"))})}),function(){var t=document.createElement("p"),e=document.getElementsByTagName("html")[0],r=document.getElementsByTagName("body")[0],a={webkitTransformStyle:"-webkit-transform-style",MozTransformStyle:"-moz-transform-style",msTransformStyle:"-ms-transform-style",transformStyle:"transform-style"};r.insertBefore(t,null);for(var o in a)void 0!==t.style[o]&&(t.style[o]="preserve-3d");var n=window.getComputedStyle(t,null),s=n.getPropertyValue("-webkit-transform-style")||n.getPropertyValue("-moz-transform-style")||n.getPropertyValue("-ms-transform-style")||n.getPropertyValue("transform-style");"preserve-3d"!==s?e.className+=" no-preserve-3d":e.className+=" preserve-3d",document.body.removeChild(t)}();